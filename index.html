<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Slovenia Student Arrival Checklist (Maribor)</title>

  <style>
    :root{
      --bg:#0b1220;
      --panel:#101a2c;
      --panel2:#0f1728;
      --text:#eaf2ff;
      --muted:#9fb0cf;
      --border:rgba(255,255,255,0.09);
      --accent:#4da3ff;
      --accent2:#22c55e;
      --danger:#ff5a6a;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--text);
      background:
        radial-gradient(900px 500px at 12% 0%, rgba(77,163,255,0.25), transparent 60%),
        radial-gradient(800px 450px at 80% 10%, rgba(34,197,94,0.20), transparent 55%),
        var(--bg);
    }

    .wrap{
      max-width: 1180px;
      margin: 0 auto;
      padding: 24px 14px 60px;
    }

    header{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:14px;
      flex-wrap:wrap;

      padding:18px;
      background: rgba(16,26,44,0.80);
      border:1px solid var(--border);
      border-radius:18px;
      backdrop-filter: blur(10px);
    }

    .brand h1{
      margin:0;
      font-size: 20px;
      letter-spacing: 0.2px;
    }
    .brand p{
      margin:6px 0 0;
      color: var(--muted);
      font-size: 13px;
      line-height:1.45;
      max-width: 720px;
    }

    .actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }

    .btn{
      cursor:pointer;
      border:1px solid var(--border);
      background: rgba(255,255,255,0.05);
      color: var(--text);
      padding:10px 12px;
      border-radius:12px;
      font-size: 13px;
      transition: transform .08s ease, background .15s ease;
      user-select:none;
    }
    .btn:hover{
      transform: translateY(-1px);
      background: rgba(77,163,255,0.12);
      border-color: rgba(77,163,255,0.25);
    }
    .btn.primary{
      background: rgba(77,163,255,0.16);
      border-color: rgba(77,163,255,0.32);
    }
    .btn.danger{
      background: rgba(255,90,106,0.12);
      border-color: rgba(255,90,106,0.3);
    }

    .grid{
      display:grid;
      grid-template-columns: 1.2fr 0.8fr;
      gap: 14px;
      margin-top: 14px;
    }
    @media(max-width: 980px){
      .grid{ grid-template-columns: 1fr; }
    }

    .card{
      padding: 16px;
      border-radius: 18px;
      border: 1px solid var(--border);
      background: rgba(16,26,44,0.85);
    }

    .card h2{
      margin:0 0 10px;
      font-size: 15px;
    }
    .muted{
      color: var(--muted);
      font-size: 13px;
      line-height:1.5;
    }

    .settings{
      display:grid;
      gap:12px;
      margin-top: 10px;
    }
    .field{
      display:grid;
      gap:6px;
    }
    .field label{
      font-size: 12.5px;
      color: var(--muted);
    }
    .field input, .field select{
      width:100%;
      padding: 11px 12px;
      border-radius: 12px;
      background: rgba(255,255,255,0.04);
      border:1px solid var(--border);
      color: var(--text);
      outline:none;
      font-size: 14px;
    }

    .field input:focus, .field select:focus{
      border-color: rgba(77,163,255,0.4);
      box-shadow: 0 0 0 4px rgba(77,163,255,0.08);
    }

    .two{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
    }
    @media(max-width: 520px){
      .two{ grid-template-columns: 1fr; }
    }

    .day{
      margin-top: 12px;
      padding: 14px;
      border-radius: 16px;
      border:1px solid var(--border);
      background: rgba(255,255,255,0.03);
    }
    .dayHead{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:10px;
      flex-wrap:wrap;
      margin-bottom: 10px;
    }
    .dayHead b{
      font-size: 14px;
    }
    .tag{
      font-size: 12px;
      padding: 6px 10px;
      border-radius: 999px;
      border:1px solid var(--border);
      background: rgba(255,255,255,0.04);
      color: var(--muted);
    }
    .tag.good{ color: var(--accent2); border-color: rgba(34,197,94,0.35); }
    .tag.warn{ color: #ffcc66; border-color: rgba(255,204,102,0.35); }

    .task{
      display:flex;
      gap:10px;
      align-items:flex-start;
      padding: 10px;
      border-radius: 14px;
      border:1px solid var(--border);
      background: rgba(255,255,255,0.03);
      margin-top: 10px;
    }
    .task input[type="checkbox"]{
      width:18px;height:18px;
      margin-top: 2px;
      accent-color: var(--accent);
    }
    .task b{
      font-size: 14px;
      display:block;
    }
    .task span{
      display:block;
      color: var(--muted);
      font-size: 12.5px;
      line-height:1.35;
      margin-top:2px;
    }

    .routes{
      display:grid;
      gap:10px;
      margin-top: 10px;
    }
    .routeBtn{
      display:flex;
      justify-content:space-between;
      gap:10px;
      align-items:center;
      border:1px solid var(--border);
      background: rgba(255,255,255,0.04);
      border-radius: 14px;
      padding: 10px 12px;
      text-decoration:none;
      color: var(--text);
      transition: transform .08s ease, background .15s ease;
    }
    .routeBtn:hover{
      transform: translateY(-1px);
      background: rgba(77,163,255,0.10);
      border-color: rgba(77,163,255,0.22);
    }
    .routeBtn small{
      color: var(--muted);
      display:block;
      margin-top: 2px;
      font-size: 12px;
      line-height: 1.2;
    }

    .note{
      margin-top: 10px;
      padding: 10px 12px;
      border-radius: 14px;
      border:1px dashed rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.03);
      color: var(--muted);
      font-size: 12.5px;
      line-height: 1.45;
    }

    footer{
      margin-top: 14px;
      text-align:center;
      color: var(--muted);
      font-size: 12px;
      opacity: 0.9;
    }
  </style>
</head>

<body>
  <div class="wrap">

    <header>
      <div class="brand">
        <h1>üá∏üáÆ Slovenia Student Arrival Checklist</h1>
        <p>
          A clean 3-day plan for international students (Maribor preset).  
          You can edit your <b>starting address</b> and the map routes will update automatically.
        </p>
      </div>

      <div class="actions">
        <button class="btn primary" onclick="window.print()">üñ®Ô∏è Print</button>
        <button class="btn" onclick="copyShareLink()">üîó Copy Share Link</button>
        <button class="btn danger" onclick="resetAll()">‚ôªÔ∏è Reset</button>
      </div>
    </header>

    <div class="grid">

      <!-- LEFT: PLAN -->
      <section class="card">
        <h2>‚úÖ 3-Day Plan (Easy & Realistic)</h2>
        <p class="muted">
          This checklist is designed to reduce stress and avoid back-and-forth visits.
          (Routes update using your starting address.)
        </p>

        <!-- Day 1 -->
        <div class="day">
          <div class="dayHead">
            <div>
              <b>DAY 1 ‚Äî Setup & Registration</b>
              <div class="muted">Address registration + University documents</div>
            </div>
            <span class="tag warn">Most urgent</span>
          </div>

          <div class="task">
            <input type="checkbox" id="t1">
            <div>
              <b>Register Temporary Address</b>
              <span>Go to: <b>Upravna Enota Maribor (Tujci)</b> ‚Äî take passport + visa + rent agreement.</span>
            </div>
          </div>

          <div class="task">
            <input type="checkbox" id="t2">
            <div>
              <b>University Enrollment / Student Confirmation</b>
              <span>Go to: <b>University of Maribor</b> ‚Äî request enrollment certificate (Potrdilo o vpisu).</span>
            </div>
          </div>
        </div>

        <!-- Day 2 -->
        <div class="day">
          <div class="dayHead">
            <div>
              <b>DAY 2 ‚Äî Residence Permit</b>
              <div class="muted">Biometrics + permit submission</div>
            </div>
            <span class="tag good">Main step</span>
          </div>

          <div class="task">
            <input type="checkbox" id="t3">
            <div>
              <b>Submit Residence Permit + Biometrics</b>
              <span>Return to Upravna Enota with: address paper + enrollment certificate + insurance + proof of funds.</span>
            </div>
          </div>
        </div>

        <!-- Day 3 -->
        <div class="day">
          <div class="dayHead">
            <div>
              <b>DAY 3 ‚Äî Support Steps</b>
              <div class="muted">Tax number + insurance + optional services</div>
            </div>
            <span class="tag">Optional extras</span>
          </div>

          <div class="task">
            <input type="checkbox" id="t4">
            <div>
              <b>Apply for Tax Number (Davƒçna ≈°tevilka)</b>
              <span>Go to: <b>FURS Maribor</b>. Needed for jobs + bank account.</span>
            </div>
          </div>

          <div class="task">
            <input type="checkbox" id="t5">
            <div>
              <b>Health Insurance (If pending)</b>
              <span>Go to: <b>ZZZS Maribor</b> with passport + address registration.</span>
            </div>
          </div>

          <div class="task">
            <input type="checkbox" id="t6">
            <div>
              <b>Bank Account (Optional)</b>
              <span>Choose any bank (NLB / OTP / SKB). Take passport + tax number.</span>
            </div>
          </div>

          <div class="task">
            <input type="checkbox" id="t7">
            <div>
              <b>Student Work Registration (Optional)</b>
              <span>Register at student work service after tax number + student status.</span>
            </div>
          </div>

          <div class="note">
            ‚úÖ Tip: If an office asks for ‚Äúproof of address‚Äù, show your rent agreement + address registration paper.
          </div>
        </div>

      </section>

      <!-- RIGHT: SETTINGS + ROUTES -->
      <aside class="card">
        <h2>üìç Personalize Your Routes</h2>
        <p class="muted">
          Anyone can use this page. Just enter your starting address and open routes in Google Maps.
        </p>

        <div class="settings">
          <div class="field">
            <label>Starting Address (your home / dorm / hostel)</label>
            <input id="startAddress" placeholder="Example: Mladinska ulica 7, 2000 Maribor" />
          </div>

          <div class="two">
            <div class="field">
              <label>City Preset</label>
              <select id="cityPreset">
                <option value="maribor">Maribor (Preset)</option>
                <option value="custom">Custom (edit places manually)</option>
              </select>
            </div>

            <div class="field">
              <label>Travel Mode</label>
              <select id="travelMode">
                <option value="walking">Walking</option>
                <option value="transit">Public Transport</option>
                <option value="driving">Driving</option>
              </select>
            </div>
          </div>

          <div class="field">
            <label>Upravna Enota (Immigration / Foreigners office)</label>
            <input id="placeUE" />
          </div>

          <div class="field">
            <label>University (International Office)</label>
            <input id="placeUNI" />
          </div>

          <div class="field">
            <label>FURS (Tax Office)</label>
            <input id="placeFURS" />
          </div>

          <div class="field">
            <label>ZZZS (Health Insurance Office)</label>
            <input id="placeZZZS" />
          </div>

          <div class="field">
            <label>Student Work Service (Optional)</label>
            <input id="placeWORK" />
          </div>

          <div class="actions" style="margin-top:6px;">
            <button class="btn primary" onclick="updateRoutes()">‚úÖ Update Routes</button>
            <button class="btn" onclick="fillMariborPreset()">‚≠ê Use Maribor Preset</button>
          </div>
        </div>

        <h2 style="margin-top:14px;">üö∂ Google Maps Routes</h2>
        <div class="routes" id="routes"></div>

        <div class="note">
          üîí Checklist progress is saved on your device (browser storage).  
          Share link works best for the route settings.
        </div>
      </aside>

    </div>

    <footer>
      Built for students ‚ú® | You can reuse this for any city by changing locations.
    </footer>

  </div>

  <script>
    // ---------- Helpers ----------
    function q(id){ return document.getElementById(id); }

    function mapsUrl(origin, destination, mode){
      const o = encodeURIComponent(origin.trim());
      const d = encodeURIComponent(destination.trim());
      return `https://www.google.com/maps/dir/?api=1&origin=${o}&destination=${d}&travelmode=${mode}`;
    }

    function save(key, value){
      localStorage.setItem("slv_"+key, value);
    }
    function load(key, fallback=""){
      const v = localStorage.getItem("slv_"+key);
      return v === null ? fallback : v;
    }

    // ---------- Checklist Save ----------
    const taskIds = ["t1","t2","t3","t4","t5","t6","t7"];

    function loadTasks(){
      taskIds.forEach(id=>{
        const saved = localStorage.getItem("slv_task_"+id);
        if(saved !== null){
          q(id).checked = (saved === "true");
        }
        q(id).addEventListener("change", (e)=>{
          localStorage.setItem("slv_task_"+id, e.target.checked);
        });
      });
    }

    // ---------- Presets ----------
    function fillMariborPreset(){
      q("startAddress").value = q("startAddress").value || "Mladinska ulica 7, 2000 Maribor";

      q("placeUE").value = "Upravna Enota Maribor, Ulica heroja Staneta 1, 2000 Maribor";
      q("placeUNI").value = "University of Maribor, Slom≈°kov trg 15, 2000 Maribor";
      q("placeFURS").value = "Finanƒçna uprava RS (FURS), Titova cesta 10, 2000 Maribor";
      q("placeZZZS").value = "ZZZS Maribor, Ulica Talcev 9, 2000 Maribor";
      q("placeWORK").value = "≈†tudentski servis Maribor, Gosposvetska cesta 83, 2000 Maribor";

      q("cityPreset").value = "maribor";
      updateRoutes();
    }

    // ---------- Routes ----------
    function updateRoutes(){
      const start = q("startAddress").value.trim() || "Mladinska ulica 7, 2000 Maribor";
      const mode = q("travelMode").value;

      const UE = q("placeUE").value.trim();
      const UNI = q("placeUNI").value.trim();
      const FURS = q("placeFURS").value.trim();
      const ZZZS = q("placeZZZS").value.trim();
      const WORK = q("placeWORK").value.trim();

      // Save settings
      save("start", start);
      save("mode", mode);
      save("UE", UE);
      save("UNI", UNI);
      save("FURS", FURS);
      save("ZZZS", ZZZS);
      save("WORK", WORK);

      // Build routes UI
      const routes = [
        {title:"Route 1: Home ‚Üí Upravna Enota", sub:"Address registration + Permit office", url: mapsUrl(start, UE, mode)},
        {title:"Route 2: Upravna Enota ‚Üí University", sub:"Student enrollment documents", url: mapsUrl(UE, UNI, mode)},
        {title:"Route 3: Home ‚Üí FURS (Tax Office)", sub:"Tax number (Davƒçna ≈°tevilka)", url: mapsUrl(start, FURS, mode)},
        {title:"Route 4: FURS ‚Üí ZZZS (Insurance)", sub:"Health insurance support", url: mapsUrl(FURS, ZZZS, mode)},
        {title:"Route 5: ZZZS ‚Üí Student Work Service (Optional)", sub:"Register for student work", url: mapsUrl(ZZZS, WORK, mode)}
      ];

      const box = q("routes");
      box.innerHTML = "";

      routes.forEach(r=>{
        const a = document.createElement("a");
        a.className = "routeBtn";
        a.href = r.url;
        a.target = "_blank";
        a.rel = "noopener noreferrer";
        a.innerHTML = `
          <div>
            <b>${r.title}</b>
            <small>${r.sub}</small>
          </div>
          <div style="opacity:.9">‚Üó</div>
        `;
        box.appendChild(a);
      });

      // Update URL share
      updateShareUrl();
    }

    // ---------- Share Link ----------
    function updateShareUrl(){
      const params = new URLSearchParams();
      params.set("start", q("startAddress").value.trim());
      params.set("mode", q("travelMode").value);

      params.set("UE", q("placeUE").value.trim());
      params.set("UNI", q("placeUNI").value.trim());
      params.set("FURS", q("placeFURS").value.trim());
      params.set("ZZZS", q("placeZZZS").value.trim());
      params.set("WORK", q("placeWORK").value.trim());

      const newUrl = `${location.origin}${location.pathname}?${params.toString()}`;
      history.replaceState({}, "", newUrl);
    }

    function copyShareLink(){
      updateShareUrl();
      navigator.clipboard.writeText(location.href)
        .then(()=> alert("‚úÖ Share link copied!"))
        .catch(()=> alert("‚ùå Could not copy. Please copy from address bar."));
    }

    // ---------- Reset ----------
    function resetAll(){
      if(!confirm("Reset checklist and all saved settings?")) return;

      // Reset tasks
      taskIds.forEach(id=>{
        localStorage.removeItem("slv_task_"+id);
        q(id).checked = false;
      });

      // Reset settings
      ["start","mode","UE","UNI","FURS","ZZZS","WORK"].forEach(k=>{
        localStorage.removeItem("slv_"+k);
      });

      // Reset inputs
      q("startAddress").value = "";
      q("travelMode").value = "walking";
      fillMariborPreset();
      alert("‚úÖ Reset done!");
    }

    // ---------- Load From URL OR Storage ----------
    function initFromUrlOrStorage(){
      const params = new URLSearchParams(location.search);

      const start = params.get("start") || load("start", "Mladinska ulica 7, 2000 Maribor");
      const mode = params.get("mode") || load("mode", "walking");

      q("startAddress").value = start;
      q("travelMode").value = mode;

      q("placeUE").value = params.get("UE") || load("UE", "Upravna Enota Maribor, Ulica heroja Staneta 1, 2000 Maribor");
      q("placeUNI").value = params.get("UNI") || load("UNI", "University of Maribor, Slom≈°kov trg 15, 2000 Maribor");
      q("placeFURS").value = params.get("FURS") || load("FURS", "Finanƒçna uprava RS (FURS), Titova cesta 10, 2000 Maribor");
      q("placeZZZS").value = params.get("ZZZS") || load("ZZZS", "ZZZS Maribor, Ulica Talcev 9, 2000 Maribor");
      q("placeWORK").value = params.get("WORK") || load("WORK", "≈†tudentski servis Maribor, Gosposvetska cesta 83, 2000 Maribor");

      updateRoutes();
    }

    // Events
    q("travelMode").addEventListener("change", updateRoutes);
    q("cityPreset").addEventListener("change", ()=>{
      if(q("cityPreset").value === "maribor") fillMariborPreset();
    });

    // Init
    loadTasks();
    initFromUrlOrStorage();
  </script>
</body>
</html>
